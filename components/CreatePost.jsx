import { Avatar } from '@mui/material';
import autosize from 'autosize';
import { serverTimestamp } from 'firebase/firestore';
import React, { useState } from 'react';
import styles from '../styles/CreatePost.module.css'
import { makePost } from '../utils';
const CreatePost = () => {
    const [value, setValue] = useState("")
    const [ text, setText ] = useState({text: "", time: serverTimestamp()})
    
    const change = (e) => {
        let post = document.getElementById("post")
        setValue(e.target.value)
        autosize(post)
        setText({...text, text: e.target.value})
        console.log(text)
    }
    const sendPost = (e) => {
        e.preventDefault()
        makePost(text).then(()=> setValue(""))
    }
  return <div className={styles.container}>
      <Avatar src="data:image/jpeg;base64,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"  />
      <div className={styles.inputDiv}>
          <form action="" onSubmit={(e) => sendPost(e)}>
          <textarea className={styles.input} value={value} id="post" placeholder="What's Up?" onChange={(e) => change(e)} />
          <button type='submit' className={styles.button}>Post</button>
          </form>
          
      </div>

  </div>;
};



export default CreatePost;
